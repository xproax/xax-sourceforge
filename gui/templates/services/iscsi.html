{% block dojango_content %}

<div dojoType="dijit.layout.TabContainer" nested="true" style="width:100%;" title="iSCSI Management" selected="true" doLayout="false">

  <div dojoType="dijit.layout.ContentPane" title="Targets" doLayout="False">
            <table class="grid">
	            <thead class="header">
			<tr>
		            <td>Target</td>
		            <td>Alias</td>
		            <td>Type</td>
			</tr>
		        </thead>
                {% for t in target_list %}
                <tr class="{% cycle 'odd' 'even' %}" id="{{ t.id }}">
                    <td>{{ t.iscsi_target_name }}</td>
                    <td>{{ t.iscsi_target_alias }}</td>
                    <td>{{ t.iscsi_target_type }}</td>
                    <td>
                        <button dojoType="dijit.form.Button" type="button" onClick="window.location='/services/iscsitarget/edit/{{ t.id }}/'">Edit</button>
                        <button dojoType="dijit.form.Button" type="button" onClick="window.location='/services/iscsitarget/delete/{{ t.id }}/'">Delete</button>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="9">No targets defined</td>
                </tr>
                {% endfor %}
                </table>
                <p class="btn">
                    <button id="tgt_button" dojoType="dijit.form.Button" type="button">
                        Add Target 
                        <script type="dojo/method" event="onClick" args="evt">
                         addObject('Add Target', '{% url freeadmin_model_add app="services",model="iSCSITarget" %}');
                    </script>
                    </button>
                    </p>
        </div>
  <div dojoType="dijit.layout.ContentPane" title="Device Extents" doLayout="False">
            <table class="grid">
	            <thead class="header">
			<tr>
		            <td>Target</td>
		            <td>Alias</td>
		            <td>Path</td>
			</tr>
		        </thead>
                {% for e in extent_device_list %}
                <tr class="{% cycle 'odd' 'even' %}" id="{{ e.id }}">
                    <td>{{ e.iscsi_target_extent_name }}</td>
                    <td>{{ e.iscsi_target_extent_type }}</td>
                    <td>{{ e.iscsi_target_extent_path }}</td>
                    <td>
                        <button dojoType="dijit.form.Button" type="button">
                            Edit
                        <script type="dojo/method" event="onClick" args="evt">
                        editObject('Edit', '{% url freeadmin_model_edit app="services",model="iSCSITargetExtent",oid=e.id,mf="iSCSITargetDeviceExtentForm" %}');
                        </script>
                        </button>
                        <button dojoType="dijit.form.Button" type="button">
                            Delete
                        <script type="dojo/method" event="onClick" args="evt">
                        editObject('Delete', '{% url freeadmin_model_delete app="services",model="iSCSITargetExtent",oid=e.id %}');
                        </script>
                        </button>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="9">No targets defined</td>
                </tr>
                {% endfor %}
                </table>
                          <p class="btn">
                    <button id="fe_button" dojoType="dijit.form.Button" type="button">
                        Add Extent 
                        <script type="dojo/method" event="onClick" args="evt">
                         addObject('Add Extent', '{% url freeadmin_model_add app="services",model="iSCSITargetExtent",mf="iSCSITargetDeviceExtentForm" %}');
                    </script>
                    </button>
                    </p>
  </div>
  <div dojoType="dijit.layout.ContentPane" title="Extents" doLayout="False">
            <table class="grid">
	            <thead class="header">
			<tr>
		            <td>Target</td>
		            <td>Alias</td>
		            <td>Path</td>
			</tr>
		        </thead>
                {% for e in extent_file_list %}
                <tr class="{% cycle 'odd' 'even' %}" id="{{ e.id }}">
                    <td>{{ e.iscsi_target_extent_name }}</td>
                    <td>{{ e.iscsi_target_extent_type }}</td>
                    <td>{{ e.iscsi_target_extent_path }}</td>
                    <td>
                        <button dojoType="dijit.form.Button" type="button">
                            Edit
                        <script type="dojo/method" event="onClick" args="evt">
                        editObject('Edit', '{% url freeadmin_model_edit app="services",model="iSCSITargetExtent",oid=e.id %}');
                        </script>
                        </button>
                        <button dojoType="dijit.form.Button" type="button">
                            Delete
                        <script type="dojo/method" event="onClick" args="evt">
                        editObject('Delete', '{% url freeadmin_model_delete app="services",model="iSCSITargetExtent",oid=e.id %}');
                        </script>
                        </button>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="9">No targets defined</td>
                </tr>
                {% endfor %}
                </table>
                          <p class="btn">
                    <button id="de_button" dojoType="dijit.form.Button" type="button">
                        Add Extent 
                        <script type="dojo/method" event="onClick" args="evt">
                         addObject('Add Extent', '{% url freeadmin_model_add app="services",model="iSCSITargetExtent" %}');
                    </script>
                    </button>
                    </p>
  </div>
  <div dojoType="dijit.layout.ContentPane" title="Associated Targets" doLayout="False">
            <table class="grid">
	            <thead class="header">
			<tr>
		            <td>Target</td>
		            <td>Extent</td>
		            <td>LUN</td>
			</tr>
		        </thead>
                {% for tte in asctarget_list %}
                <tr class="{% cycle 'odd' 'even' %}" id="{{ tte.id }}">
                    <td>{{ tte.iscsi_target }}</td>
                    <td>{{ tte.iscsi_extent }}</td>
                    <td>{{ tte.iscsi_target_lun }}</td>
                    <td>
                        <button dojoType="dijit.form.Button" type="button">
                            Edit
                        <script type="dojo/method" event="onClick" args="evt">
                        editObject('Edit', '{% url freeadmin_model_edit app="services",model="iSCSITargetToExtent",oid=tte.id %}');
                        </script>
                        </button>
                        <button dojoType="dijit.form.Button" type="button">
                            Delete
                        <script type="dojo/method" event="onClick" args="evt">
                        editObject('Delete', '{% url freeadmin_model_delete app="services",model="iSCSITargetToExtent",oid=tte.id %}');
                        </script>
                        </button>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="9">No targets defined</td>
                </tr>
                {% endfor %}
                </table>
                         <p class="btn">
                    <button id="et_button" dojoType="dijit.form.Button" type="button">
                        Add Extent to Target
                        <script type="dojo/method" event="onClick" args="evt">
                         addObject('Add Extent To Target', '{% url freeadmin_model_add app="services",model="iSCSITargetToExtent" %}');
                    </script>
                    </button>
                    </p>
        </div>
  <div dojoType="dijit.layout.ContentPane" title="Authentication" doLayout="False">
     <table class="grid">
	            <thead class="header">
			<tr>
		            <td>Tag</td>
		            <td>User</td>
		            <td>Secret</td>
		            <td>Peer</td>
		            <td>Peer Secret</td>
		            <td></td>
			</tr>
		        </thead>
                {% for ta in target_auth_list %}
                <tr class="{% cycle 'odd' 'even' %}" id="{{ ta.id }}">
                    <td>{{ ta.iscsi_target_auth_tag }}</td>
                    <td>{{ ta.iscsi_target_auth_user }}</td>
                    <td>{{ ta.iscsi_target_auth_secret }}</td>
                    <td>{{ ta.iscsi_target_auth_peeruser }}</td>
                    <td>{{ ta.iscsi_target_auth_peersecret }}</td>
                    <td>
                        <button dojoType="dijit.form.Button" type="button">
                            Edit
                        <script type="dojo/method" event="onClick" args="evt">
                        editObject('Edit', '{% url freeadmin_model_edit app="services",model="iSCSITargetAuthCredential",oid=ta.id %}');
                        </script>
                        </button>
                        <button dojoType="dijit.form.Button" type="button">
                            Delete
                        <script type="dojo/method" event="onClick" args="evt">
                        editObject('Delete', '{% url freeadmin_model_delete app="services",model="iSCSITargetAuthCredential",oid=ta.id %}');
                        </script>
                        </button>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="9">No targets defined</td>
                </tr>
                {% endfor %}
                </table>

                        <p class="btn">
                    <button id="tgt_auth_button" dojoType="dijit.form.Button" type="button">
                        Add iSCSI User 
                        <script type="dojo/method" event="onClick" args="evt">
                         addObject('Add iSCSI User', '{% url freeadmin_model_add app="services",model="iSCSITargetAuthCredential" %}');
                    </script>
                    </button>
                    </p>
  </div>
  <div dojoType="dijit.layout.ContentPane" title="Authorized Initiator" doLayout="False">
    <table class="grid">
	   <thead class="header">
			<tr>
		            <td>Tag</td>
		            <td>Initiators</td>
		            <td>Authorized Network</td>
		            <td>Comment</td>
		            <td></td>
			</tr>
		        </thead>
                {% for ai in auth_initiator_list %}
                <tr class="{% cycle 'odd' 'even' %}" id="{{ ai.id }}">
                    <td>{{ ai.iscsi_target_initiator_tag }}</td>
                    <td>{{ ai.iscsi_target_initiator_initiators }}</td>
                    <td>{{ ai.iscsi_target_initiator_auth_network }}</td>
                    <td>{{ ai.iscsi_target_initiator_comment }}</td>
                    <td>
                        <button dojoType="dijit.form.Button" type="button">
                            Edit
                        <script type="dojo/method" event="onClick" args="evt">
                        editObject('Edit', '{% url freeadmin_model_edit app="services",model="iSCSITargetAuthorizedInitiator",oid=ai.id %}');
                        </script>
                        </button>
                        <button dojoType="dijit.form.Button" type="button">
                            Delete
                        <script type="dojo/method" event="onClick" args="evt">
                        editObject('Delete', '{% url freeadmin_model_delete app="services",model="iSCSITargetAuthorizedInitiator",oid=ai.id %}');
                        </script>
                        </button>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="9">No targets defined</td>
                </tr>
                {% endfor %}
                </table>

                          <p class="btn">
                    <button id="access_button" dojoType="dijit.form.Button" type="button">
                        Modify Access 
                        <script type="dojo/method" event="onClick" args="evt">
                         addObject('Modify Access', '{% url freeadmin_model_add app="services",model="iSCSITargetAuthorizedInitiator" %}');
                    </script>
                    </button>
                    </p>
  </div>
  <div dojoType="dijit.layout.ContentPane" title="Portals" doLayout="False">
      <table class="grid">
        <thead class="header">
			<tr>
		            <td>Tag</td>
		            <td>Listen</td>
		            <td>Comment</td>
                    <td></td>
			</tr>
		        </thead>
                {% for p in iscsiportal_list %}
                <tr class="{% cycle 'odd' 'even' %}" id="{{ p.id }}">
                    <td>{{ p.iscsi_target_portal_tag }}</td>
                    <td>{{ p.iscsi_target_portal_listen }}</td>
                    <td>{{ p.iscsi_target_portal_comment }}</td>
                    <td>
                        <button dojoType="dijit.form.Button" type="button">
                            Edit
                        <script type="dojo/method" event="onClick" args="evt">
                        editObject('Edit Portal', '{% url freeadmin_model_edit app="services",model="iSCSITargetPortal",oid=p.id %}');
                        </script>
                        </button>
                        <button dojoType="dijit.form.Button" type="button">
                            Delete
                        <script type="dojo/method" event="onClick" args="evt">
                        editObject('Delete Portal', '{% url freeadmin_model_delete app="services",model="iSCSITargetPortal",oid=p.id %}');
                        </script>
                        </button>

                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="9">No targets defined</td>
                </tr>
                {% endfor %}
                </table>

                 <p class="btn">
                 <button id="portal_button" dojoType="dijit.form.Button" type="button">
                     Add Portal 
                     <script type="dojo/method" event="onClick" args="evt">
                         addObject('Add Portal', '{% url freeadmin_model_add app="services",model="iSCSITargetPortal" %}');
                 </script>
                 </button>
                 </p>
        </div>
</div>
{% endblock %}
