{% load i18n %}
<form dojoType="dijit.form.Form" enctype="multipart/form-data" id="uploadconfigform", name="uploadconfigform" method="post">
    <script type="dojo/event" event="onSubmit" args="e">
	formSubmit(this, e, '{% url system_configupload %}');
         </script>
        <table class="config">
            {% if form.non_field_errors %}
                <tr>
                    <td colspan="2">
                        {{  form.non_field_errors }}
                    </td>
                </tr>
            {% endif %}
            {% for field in form %}
            <input dojoType="dijit.form.TextBox" type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}" />
                <tr>
                    <td>
                        <label for="{{ field.auto_id }}">
                            {% if field.field.required %}
                                <span class="required">{{ field.label }}</span>
                            {% else %}
                                {{ field.label }}
                            {% endif %}
                        </label>
                    </td>
                    <td>
                         {{ field }}
                         {{ field.errors }}
                    </td>
                </tr>
            {% endfor %}
        </table>
        <p class="btn">
            <button class="submitform" dojoType="dijit.form.Button" type="submit">
                {% trans "Update" %}
                <script type="dojo/method" event="onClick" args="evt">
                    this.set('label', '{% trans "Please wait..."|force_escape %}');
                </script>
            </button>
            <button dojoType="dijit.form.Button" onClick="cancelDialog(this);">{% trans "Cancel" %}</button>
        </p>
    </form>
